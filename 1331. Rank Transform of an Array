//C

/**
 * Note: The returned array must be malloced, assume caller calls free().
 */
int* arrayRankTransform(int* arr, int arrSize, int* returnSize) {
    int arr2[returnSize], count = 0;
    for(int i = 0; i < arrSize; i++) {
        int add = 1;
        for(int j = 0; j < count; j++) add &= !(arr[i] == arr[j]);
        if(add) {
            arr2[count] = arr[i];
            count++;
        }
    }

    rank = 1;
    for (int i = 0; i < arrsize - 1; i++) {
        int k = i, temp;
        for (int j = i; j < arrSize; j++) {
            if (arr2[j] < arr2[k]) {
                k = j;
                break;
            }
        }
        temp = arr2[i];
        arr2[i] = arr2[j];
        arr2[j] = temp;
    }

    for (int i = 0; i < arrSize; i++) {
        for(int j = 0; j < returnSize; j++) {
            if(arr[i] == arr2[j]) arr[i] = j + 1;
        }
    }
    return arr;
}
